{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n  methods: {\n    async login() {\n      const requestData = {\n        username: this.username,\n        password: this.password\n      };\n      const response = await fetch('https://dimitarvuik.pythonanywhere.com/users/login', {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(requestData)\n      });\n      if (!response.ok) {\n        alert('invalid credentials');\n        return;\n      }\n      const responseData = await response.json();\n      localStorage.setItem('token', responseData.token);\n      this.$router.push({\n        name: 'home'\n      });\n    }\n  },\n  created() {\n    if (localStorage.getItem('token')) {\n      this.$router.push({\n        name: 'home'\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAmBA;EACAA;EACAC;IACA;MACAC;MACAC;IAEA;EACA;EACAC;IACA;MACA;QACAF;QACAC;MACA;MACA;QACAE;QACAC;UACA;QACA;QACAC;MACA;MACA;QACAC;QACA;MACA;MACA;MACAC;MACA;QAAAT;MAAA;IACA;EACA;EACAU;IACA;MACA;QAAAV;MAAA;IAEA;EACA;AACA","names":["name","data","username","password","methods","method","headers","body","alert","localStorage","created"],"sourceRoot":"src/views","sources":["LoginView.vue"],"sourcesContent":["<template>\n  <div>\n    <b-card\n      title=\"Login\"\n      style=\"max-width: 20rem\"\n      class=\"mb-2 mx-auto card-color\"\n    >\n      <b-card-text>\n        <b-form-input class=\"mt-2 form-color\" v-model=\"username\" placeholder=\"Username\"></b-form-input>\n        <b-form-input class=\"mt-2 form-color\" v-model=\"password\" type=\"password\" placeholder=\"Password\"></b-form-input>\n      </b-card-text>\n\n     <b-button  @click=\"login\" class=\"bg-dark post-btn\">Login</b-button>\n      <p class=\"mt-2  \">Dont have an account ? <router-link  to=\"/Signup\">Signup</router-link></p>\n    </b-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n        username:'',\n        password:'',\n        \n    }\n  },\n  methods: {\n    async login() {\n        const requestData = {\n            username:this.username,\n            password:this.password,\n        }\n        const response = await fetch('https://dimitarvuik.pythonanywhere.com/users/login', {\n            method:'POST',\n            headers: {\n                'content-type': 'application/json',\n            },\n            body: JSON.stringify(requestData)\n        })\n        if (!response.ok){\n          alert('invalid credentials')\n          return;\n        }\n         const responseData = await response.json()\n\t\t\tlocalStorage.setItem('token', responseData.token)\n\t\t\tthis.$router.push({name: 'home'})\n    }\n  },\n  created() {\n     if (localStorage.getItem('token')){\n      this.$router.push({name: 'home'})\n\n     }\n  }\n};\n</script>\n\n<style>\n.card-color{\n   background-color: #303338 !important;\n}\n.form-color {\n color: white !important;\n background-color:#222427 !important;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}